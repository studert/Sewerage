@using Sewerage.Controllers
@{
    ViewBag.Title = "Sewerage";
}

@section featured {
<section class="featured">
    <div class="content-wrapper">
        <hgroup class="title">
            <h1 data-bind="text: $root.chosenProject().Name"></h1>
            <h2 data-bind="text: $root.chosenProject().Description"></h2>
        </hgroup>
    </div>
</section>
}
@(Html.UpshotContext(bufferChanges: true).DataSource<SewerageController>(x => x.GetProjects()))

<h3>Projects</h3>
<div>
    @Html.Partial("_ProjectsList")
</div>

<h3>Sections</h3>
<div>
    @Html.Partial("_SectionsList")
</div>

<h3>Inspections</h3>
<div>
    @Html.Partial("_InspectionsList")
</div>

<h3>Observations</h3>
<div>
    @Html.Partial("_ObservationsList")
</div>

<script src="~/Scripts/App/SewerageViewModel.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        ko.applyBindings(new SewerageViewModel());
    });
</script>