@using Sewerage.Resources.Views.Shared

@if (Request.IsAuthenticated) {
    <ul class="nav pull-right">
        <li class="divider-vertical"></li>
        <li>
            @{
                var user = Membership.GetUser();
                if (user != null)
                {
                    <a href="@Url.Gravatar(user.Email, 300, global::GravatarHelper.GravatarHelper.DefaultImageIdenticon)">
                        @Html.Gravatar(user.Email, 20, new {Title = user.UserName, Alt = "Gravatar"})
                    </a>
                }
            }
        </li>
        <li class="dropdown">
            <a href="#" class="dropdown-toggle" data-toggle="dropdown">@User.Identity.Name
            <b class="caret"></b></a>
            <ul class="dropdown-menu">
                <li class="nav-header"><i class="icon-user"></i> @SharedStrings.User</li>
                <li><a href="@Url.Action("ChangePassword", "Account")"><i class="icon-pencil"></i> @SharedStrings.ChangePassword</a></li>
                <li><a href="@Url.Action("LogOff", "Account")"><i class="icon-off"></i> @SharedStrings.Logoff</a></li>
                <li class="divider"></li>
                <li class="nav-header"><i class="icon-lock"></i> @SharedStrings.Admin</li>
                <li><a href="@Url.Action("Index", "Elmah")"><i class="icon-list"></i> @SharedStrings.Elmah</a></li>
                <li><a href="@Url.Content("glimpse.axd")"><i class="icon-eye-open"></i> @SharedStrings.Glimpse</a></li>
                <li><a href="@Url.Content("MvcDiagnostics.aspx")"><i class="icon-heart"></i> @SharedStrings.Diagnostics</a></li>
            </ul>
        </li>
    </ul>
}
else
{
    <ul class="nav pull-right">
        <li class="divider-vertical"></li>
        <li><a href="@Url.Action("Register", "Account")">@SharedStrings.Register</a></li>
        <li><a href="@Url.Action("Login", "Account")">@SharedStrings.Login</a></li>
    </ul>
}