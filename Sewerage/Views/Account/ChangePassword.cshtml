@using Build.Mvc
@using Build.Mvc.Html
@using Sewerage.HtmlHelpers
@using Sewerage.Resources.Views
@using Sewerage.Resources.Views.Account
@model Sewerage.Models.ChangePasswordModel

@{
    ViewBag.Title = AccountStrings.ChangePasswordTitle;
}

<hgroup>
    <h1>@ViewBag.Title.</h1>
    <h2>@AccountStrings.ChangePasswordSubtitle</h2>
</hgroup>

<div class="alert alert-info">
    @string.Format(AccountStrings.PasswordComplexity, Membership.MinRequiredPasswordLength)
</div>

@using (Html.BuildForm().AddClass("form-horizontal").Begin())
{
    @Html.BuildValidationSummary(true, AccountStrings.ChangePasswordValidationSummary).AddClass("alert").AddClass("alert-error")

    <fieldset>
        <legend>@AccountStrings.ChangePasswordLegend</legend>
        @Html.BuildControlGroupFor(x => Model.OldPassword)
        @Html.BuildControlGroupFor(x => Model.NewPassword)
        @Html.BuildControlGroupFor(x => Model.ConfirmPassword)
        
        <div class="form-actions">
            @Html.BuildSubmitButtonWithIcon(GlobalStrings.ChangePasswordButton, "icon-ok icon-white").AddClass("btn").AddClass("btn-primary")
        </div>
    </fieldset>
}
