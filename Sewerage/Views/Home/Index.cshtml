@using Sewerage.Controllers
@{
    ViewBag.Title = "Sewerage";
}

@section featured {
<section class="featured">
    <div class="content-wrapper">
        <hgroup class="title">
            <h1>@ViewBag.Title.</h1>
            <h2>@ViewBag.Message</h2>
        </hgroup>
    </div>
</section>
}
@(Html.UpshotContext(bufferChanges: true).DataSource<DataServiceController>(x => x.GetObservations()))

<h3>Inspections</h3>
<ul data-bind="foreach: observationsForInspections">
    <li>
        <div>Inspection Id: <strong data-bind="text: key.InspectionId"></strong></div>
        <ul data-bind="foreach: values">
            <li data-bind="text: Description"></li>
        </ul>
    </li>
</ul>

<script src="~/Scripts/App/ObservationsViewModel.js" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        ko.applyBindings(new ObservationsViewModel());
    });
</script>